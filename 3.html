<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Arrays</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
</head>
<body onload="runScript(); RunTest.test3()">
we should now know some basics for variables, types, flow control, and collections, we need to learn about
<h1>Functions</h1>
as to make our code more readable (hide details behind a meaningful name), maintainable (don't repeat yourself,
structure large programs).<br>
to create a callable function, assign a function to a variable
<pre>
<code class="language-javascript">
const randomHero = function () {
    console.log("calling for random hero")
}
</code>
or to an arrow function
<code class="language-javascript">
const randomHero = () => {
    console.log("calling for random hero")
}
</code>
</pre>
the functions body (between the curly braces <i>{ }</i>) are the statements that are executed when a function is
invoked. functions may have parameters defined within parentheses <i>( )</i>
<pre>
<code class="language-javascript">
const randomHero = function () {
    console.log("calling for random hero")
}
// invoke it by calling
randomHero()

const findHeroByPowerLevel = function (powerLevel) {
    console.log("searching for power level " + powerLevel)
}
const powerLevel = 4
findHero(powerLevel)
</code>
</pre>

<h3>Your Task:</h3>
<span>edit the script block of this file to create the necessary function</span><br>
<h2>Global Evil Organisation Database: Hero "Thunder"</h2>
<div><h3>
    your options:
</h3>
    <ul class="features"></ul>
</div>
<pre class="error"></pre>

<script type="application/javascript">

    function sendOnVacation(hero) {
        console.log("vacation for " + hero.name)
    }

    const call = function (hero) {
        console.log("calling " + hero.name)
    }

    const notifyAuthorities = undefined // FIXME

    const runScript = () => {
        const features = {
            call,
            notifyAuthorities,
            sendOnVacation,
        }
        renderFeatures(features);
    };

    function renderFeatures(features) {
        const showsFeatures = document.getElementsByClassName("features")[0];
        for (const feature in features) {
            console.log(feature)
            const showsFeature = document.createElement("li")
            showsFeature.textContent = feature
            let invokeFeatureWithHero = features[feature];
            if (typeof invokeFeatureWithHero !== 'function') {
                // continue skips this execution of the loop
                continue
            }
            showsFeature.onclick = () => invokeFeatureWithHero({name: "Thunder"})
            showsFeatures.append(showsFeature)
        }
    }

</script>
<script src="test.js"></script>

<div id="displayOnSuccess" hidden="hidden">
    <a href="./todo">FIXME next classroom</a>
</div>

<!-- fancy code highlighting -->
<script>hljs.highlightAll();</script>
</body>
</html>